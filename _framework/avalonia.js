var H=class{static getCaretCoordinates(e,t,n){var p,x;if(!I)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");let r=(p=n==null?void 0:n.debug)!=null?p:!1;if(r){let v=document.querySelector("#input-textarea-caret-position-mirror-div");v&&((x=v.parentNode)==null||x.removeChild(v))}let i=document.createElement("div");i.id="input-textarea-caret-position-mirror-div",document.body.appendChild(i);let a=i.style,s=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,o=e.nodeName==="INPUT";a.whiteSpace="pre-wrap",o||(a.wordWrap="break-word"),a.position="absolute",r||(a.visibility="hidden"),O.forEach(v=>{if(o&&v==="lineHeight")if(s.boxSizing==="border-box"){let S=parseInt(s.height),D=parseInt(s.paddingTop)+parseInt(s.paddingBottom)+parseInt(s.borderTopWidth)+parseInt(s.borderBottomWidth),W=D+parseInt(s.lineHeight);S>W?a.lineHeight=`${S-D}px`:S===W?a.lineHeight=s.lineHeight:a.lineHeight="0"}else a.lineHeight=s.height;else a[v]=s[v]}),F?e.scrollHeight>parseInt(s.height)&&(a.overflowY="scroll"):a.overflow="hidden",i.textContent=e.value.substring(0,t),o&&(i.textContent=i.textContent.replace(/\s/g,"\xA0"));let d=document.createElement("span");d.textContent=e.value.substring(t)||".",i.appendChild(d);let u={top:d.offsetTop+parseInt(s.borderTopWidth),left:d.offsetLeft+parseInt(s.borderLeftWidth),height:parseInt(s.lineHeight)};return r?d.style.backgroundColor="#aaa":document.body.removeChild(i),u}},O=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],I=typeof window!="undefined",F=I&&window.mozInnerScreenX!=null;var l=class{static get InputHelper(){var e;return(e=this.resolvedExports)==null?void 0:e.Avalonia.Browser.Interop.InputHelper}static get DomHelper(){var e;return(e=this.resolvedExports)==null?void 0:e.Avalonia.Browser.Interop.DomHelper}static get TimerHelper(){var e;return(e=this.resolvedExports)==null?void 0:e.Avalonia.Browser.Interop.TimerHelper}static get CanvasHelper(){var e;return(e=this.resolvedExports)==null?void 0:e.Avalonia.Browser.Interop.CanvasHelper}};async function R(){let c=await globalThis.getDotnetRuntime(0);if(c!=null)return l.resolvedExports=await c.getAssemblyExports("Avalonia.Browser.dll"),l.resolvedExports}l.exportsPromise=R();var L=class{static initializeBackgroundHandlers(){this.clipboardState===0&&(globalThis.addEventListener("paste",e=>{this.clipboardState===2&&this.resolveClipboard(e.clipboardData.getData("text"))}),this.clipboardState=1)}static async readClipboardText(e){if(e.navigator.clipboard.readText)return await e.navigator.clipboard.readText();try{return await new Promise((t,n)=>{this.clipboardState=2,this.resolveClipboard=t,this.rejectClipboard=n})}finally{this.clipboardState=1,this.resolveClipboard=null,this.rejectClipboard=null}}static async writeClipboardText(e,t){return await e.navigator.clipboard.writeText(t)}static subscribeInputEvents(e,t){let n=this.subscribeKeyEvents(e,t),r=this.subscribePointerEvents(e,t),i=this.subscribeTextEvents(e,t),a=this.subscribeDropEvents(e,t),s=this.subscribeKeyboardGeometryChange(e,t);return()=>{n(),r(),i(),a(),s()}}static subscribeKeyEvents(e,t){let n=i=>{l.InputHelper.OnKeyDown(t,i.code,i.key,this.getModifiers(i)),this.clipboardState!==2&&i.preventDefault()};e.addEventListener("keydown",n);let r=i=>{l.InputHelper.OnKeyUp(t,i.code,i.key,this.getModifiers(i)),i.preventDefault(),this.rejectClipboard&&this.rejectClipboard()};return e.addEventListener("keyup",r),()=>{e.removeEventListener("keydown",n),e.removeEventListener("keyup",r)}}static subscribeTextEvents(e,t){let n=s=>{l.InputHelper.OnCompositionStart(t)};e.addEventListener("compositionstart",n);let r=s=>{let o=s.getTargetRanges(),d=-1,u=-1;o.length>0&&(d=o[0].startOffset,u=o[0].endOffset),s.inputType==="insertCompositionText"&&(d=2,u=d+2),l.InputHelper.OnBeforeInput(t,s.inputType,d,u)};e.addEventListener("beforeinput",r);let i=s=>{l.InputHelper.OnCompositionUpdate(t,s.data)};e.addEventListener("compositionupdate",i);let a=s=>{l.InputHelper.OnCompositionEnd(t,s.data),s.preventDefault()};return e.addEventListener("compositionend",a),()=>{e.removeEventListener("compositionstart",n),e.removeEventListener("compositionupdate",i),e.removeEventListener("compositionend",a)}}static subscribePointerEvents(e,t){let n=o=>{l.InputHelper.OnPointerMove(t,o.pointerType,o.pointerId,o.offsetX,o.offsetY,o.pressure,o.tiltX,o.tiltY,o.twist,this.getModifiers(o),o),o.preventDefault()},r=o=>{l.InputHelper.OnPointerDown(t,o.pointerType,o.pointerId,o.button,o.offsetX,o.offsetY,o.pressure,o.tiltX,o.tiltY,o.twist,this.getModifiers(o)),o.preventDefault()},i=o=>{l.InputHelper.OnPointerUp(t,o.pointerType,o.pointerId,o.button,o.offsetX,o.offsetY,o.pressure,o.tiltX,o.tiltY,o.twist,this.getModifiers(o)),o.preventDefault()},a=o=>{l.InputHelper.OnPointerCancel(t,o.pointerType,o.pointerId,o.offsetX,o.offsetY,o.pressure,o.tiltX,o.tiltY,o.twist,this.getModifiers(o))},s=o=>{l.InputHelper.OnWheel(t,o.offsetX,o.offsetY,o.deltaX,o.deltaY,this.getModifiers(o)),o.preventDefault()};return e.addEventListener("pointermove",n),e.addEventListener("pointerdown",r),e.addEventListener("pointerup",i),e.addEventListener("wheel",s),e.addEventListener("pointercancel",a),()=>{e.removeEventListener("pointerover",n),e.removeEventListener("pointerdown",r),e.removeEventListener("pointerup",i),e.removeEventListener("pointercancel",a),e.removeEventListener("wheel",s)}}static subscribeDropEvents(e,t){let n=i=>{let a=i.dataTransfer;l.InputHelper.OnDragDrop(t,i.type,i.offsetX,i.offsetY,this.getModifiers(i),a==null?void 0:a.effectAllowed,a)},r=i=>{i.preventDefault(),n(i)};return e.addEventListener("dragover",r),e.addEventListener("dragenter",n),e.addEventListener("dragleave",n),e.addEventListener("drop",r),()=>{e.removeEventListener("dragover",r),e.removeEventListener("dragenter",n),e.removeEventListener("dragleave",n),e.removeEventListener("drop",r)}}static getCoalescedEvents(e){return e.getCoalescedEvents().flatMap(t=>[t.offsetX,t.offsetY,t.pressure,t.tiltX,t.tiltY,t.twist])}static subscribeKeyboardGeometryChange(e,t){if("virtualKeyboard"in navigator){let n=r=>{let i=e.getBoundingClientRect(),a=r.target.boundingRect;l.InputHelper.OnKeyboardGeometryChange(t,a.x-i.x,a.y-i.y,a.width,a.height)};return navigator.virtualKeyboard.addEventListener("geometrychange",n),()=>{navigator.virtualKeyboard.removeEventListener("geometrychange",n)}}return()=>{}}static clearInput(e){e.value=""}static focusElement(e){e.focus()}static setCursor(e,t){t==="default"?e.style.removeProperty("cursor"):e.style.cursor=t}static setBounds(e,t,n,r,i,a){e.style.left=t.toFixed(0)+"px",e.style.top=n.toFixed(0)+"px";let{left:s,top:o}=H.getCaretCoordinates(e,a);e.style.left=(t-s).toFixed(0)+"px",e.style.top=(n-o).toFixed(0)+"px"}static hide(e){e.style.display="none"}static show(e){e.style.display="block"}static setSurroundingText(e,t,n,r){!e||(e.value=t,e.setSelectionRange(n,r),e.style.width="20px",e.style.width=`${e.scrollWidth}px`)}static getModifiers(e){let t=0;e.ctrlKey&&(t|=2),e.altKey&&(t|=1),e.shiftKey&&(t|=4),e.metaKey&&(t|=8);let n=e.buttons;return n&&(n&1&&(t|=16),n&2&&(t|=e.type==="pen"?2048:32),n&4&&(t|=64),n&8&&(t|=128),n&16&&(t|=256),n&32&&(t|=1024)),t}static setPointerCapture(e,t){e.setPointerCapture(t)}static releasePointerCapture(e,t){e.hasPointerCapture(t)&&e.releasePointerCapture(t)}};L.clipboardState=0;var h=class{static getGlobalThis(){return globalThis}static addClass(e,t){e.classList.add(t)}static getFirstElementById(e,t){return(t instanceof Window?t.document:t.ownerDocument).getElementById(e)}static getFirstElementByClassName(e,t){let r=(t instanceof Window?t.document:t).getElementsByClassName(e);return r?r[0]:null}static createAvaloniaCanvas(e){var r;let t=(r=e.getAttribute("data-containerId"))!=null?r:"0000",n=document.createElement("canvas");return n.id=`canvas${t}`,n.classList.add("avalonia-canvas"),n.style.width="100%",n.style.height="100%",n.style.position="absolute",n}static attachCanvas(e,t){e.prepend(t)}static detachCanvas(e,t){e.removeChild(t)}static createAvaloniaHost(e){let t=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10);e.classList.add("avalonia-container"),e.tabIndex=0,e.setAttribute("data-containerId",t),e.oncontextmenu=function(){return!1},e.style.overflow="hidden",e.style.touchAction="none";let n=document.createElement("div");n.id=`nativeHost${t}`,n.classList.add("avalonia-native-host"),n.style.left="0px",n.style.top="0px",n.style.width="100%",n.style.height="100%",n.style.position="absolute";let r=document.createElement("input");return r.id=`inputElement${t}`,r.classList.add("avalonia-input-element"),r.autocapitalize="none",r.type="text",r.spellcheck=!1,r.style.padding="0",r.style.margin="0",r.style.borderWidth="0",r.style.position="absolute",r.style.overflow="hidden",r.style.borderStyle="hidden",r.style.outline="none",r.style.background="transparent",r.style.color="transparent",r.style.display="none",r.style.height="20px",r.style.zIndex="-1",r.onpaste=function(){return!1},r.oncopy=function(){return!1},r.oncut=function(){return!1},e.prepend(r),e.prepend(n),{host:e,nativeHost:n,inputElement:r}}static isFullscreen(e){return e.document.fullscreenElement!=null}static async setFullscreen(e,t){t?await e.document.documentElement.requestFullscreen():await e.document.exitFullscreen()}static initGlobalDomEvents(e){if(e.document.documentElement.style.setProperty("--av-sat","env(safe-area-inset-top)"),e.document.documentElement.style.setProperty("--av-sar","env(safe-area-inset-right)"),e.document.documentElement.style.setProperty("--av-sab","env(safe-area-inset-bottom)"),e.document.documentElement.style.setProperty("--av-sal","env(safe-area-inset-left)"),e.matchMedia!==void 0){let t=e.matchMedia("(prefers-color-scheme: dark)"),n=e.matchMedia("(prefers-contrast: more)");t.addEventListener("change",r=>{l.DomHelper.DarkModeChanged(r.matches,n.matches)}),n.addEventListener("change",r=>{l.DomHelper.DarkModeChanged(t.matches,r.matches)})}e.document.addEventListener("visibilitychange",()=>{l.DomHelper.DocumentVisibilityChanged(e.document.visibilityState)}),e.document.visibilityState==="visible"&&e.setTimeout(()=>{l.DomHelper.DocumentVisibilityChanged(e.document.visibilityState)},10)}static getSafeAreaPadding(e){let t=parseFloat(getComputedStyle(e.document.documentElement).getPropertyValue("--av-sat")),n=parseFloat(getComputedStyle(e.document.documentElement).getPropertyValue("--av-sab")),r=parseFloat(getComputedStyle(e.document.documentElement).getPropertyValue("--av-sal")),i=parseFloat(getComputedStyle(e.document.documentElement).getPropertyValue("--av-sar"));return[r,t,n,i]}static getDarkMode(e){if(e.matchMedia===void 0)return[0,0];let t=e.matchMedia("(prefers-color-scheme: dark)"),n=e.matchMedia("(prefers-contrast: more)");return[t.matches?1:0,n.matches?1:0]}};var M=class{static hasNativeFilePicker(){return"showSaveFilePicker"in globalThis}static isMobile(){var i;let e=(i=globalThis.navigator)==null?void 0:i.userAgentData;if(e)return e.mobile;let t=navigator.userAgent,n=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,r=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw(n|u)|c55\/|capi|ccwa|cdm|cell|chtm|cldc|cmd|co(mp|nd)|craw|da(it|ll|ng)|dbte|dcs|devi|dica|dmob|do(c|p)o|ds(12|d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(|_)|g1 u|g560|gene|gf5|gmo|go(\.w|od)|gr(ad|un)|haie|hcit|hd(m|p|t)|hei|hi(pt|ta)|hp( i|ip)|hsc|ht(c(| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i(20|go|ma)|i230|iac( ||\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|[a-w])|libw|lynx|m1w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|mcr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|([1-8]|c))|phil|pire|pl(ay|uc)|pn2|po(ck|rt|se)|prox|psio|ptg|qaa|qc(07|12|21|32|60|[2-7]|i)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h|oo|p)|sdk\/|se(c(|0|1)|47|mc|nd|ri)|sgh|shar|sie(|m)|sk0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h|v|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl|tdg|tel(i|m)|tim|tmo|to(pl|sh)|ts(70|m|m3|m5)|tx9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas|your|zeto|zte/i;return n.test(t)||r.test(t.substr(0,4))}static isTv(){return navigator.userAgent.includes("SmartTV")}};var G=typeof SharedArrayBuffer!="undefined";function N(c){return G&&c[Symbol.toStringTag]==="SharedArrayBuffer"}var k=class{static async seek(e,t){return await e.seek(t)}static async truncate(e,t){return await e.truncate(t)}static async close(e){return await e.close()}static async write(e,t,n,r){var s;let i=(s=globalThis.getDotnetRuntime(0))==null?void 0:s.localHeapViewU8(),a;if(t._pointer>0&&t._length>0&&i&&!N(i.buffer))a=new Uint8Array(i.buffer,t._pointer+n,r);else{let o=new Uint8Array(r);t.copyTo(o,n),a=t}return await e.write(a)}static byteLength(e){return e.size}static async sliceArrayBuffer(e,t,n){let r=await e.slice(t,t+n).arrayBuffer();return new Uint8Array(r)}static toMemoryView(e){return e}};var P=class{},z=class{static createDefaultChild(e){return document.createElement("div")}static createAttachment(){return new P}static initializeWithChildHandle(e,t){e._child=t,e._child.style.position="absolute"}static attachTo(e,t){e._host&&e._child&&e._host.removeChild(e._child),e._host=t,e._host&&e._child&&e._host.appendChild(e._child)}static showInBounds(e,t,n,r,i){e._child&&(e._child.style.top=`${n}px`,e._child.style.left=`${t}px`,e._child.style.width=`${r}px`,e._child.style.height=`${i}px`,e._child.style.display="block")}static hideWithSize(e,t,n){e._child&&(e._child.style.width=`${t}px`,e._child.style.height=`${n}px`,e._child.style.display="none")}static releaseChild(e){e._child&&(e._child=void 0)}};var B=class{static addBackHandler(e){history.pushState(null,"",window.location.href),window.onpopstate=()=>{e()?history.forward():history.back()}}};var A=class{static itemsArrayAt(e,t){let n=e[t];if(!n)return[];let r=[];for(let i=0;i<n.length;i++)r[i]=n[i];return r}static itemAt(e,t){return e[t]}static callMethod(e,t){let n=Array.prototype.slice.call(arguments,2);return e[t].apply(e,n)}};var g=class{static runAnimationFrames(){function e(t){var n;(n=l.TimerHelper)==null||n.JsExportOnAnimationFrame(),self.requestAnimationFrame(e)}self.requestAnimationFrame(e)}static onTimeout(){var e;(e=l.TimerHelper)==null||e.JsExportOnTimeout()}static onInterval(){var e;(e=l.TimerHelper)==null||e.JsExportOnInterval()}static setTimeout(e){return setTimeout(g.onTimeout,e)}static setInterval(e){return setInterval(g.onInterval,e)}};var T=class{static observeSize(e,t){return this.resizeObserver||(this.resizeObserver=new ResizeObserver(this.onResize),this.resizeObserver.callbacks=new Map),this.resizeObserver.callbacks.set(e,t),this.resizeObserver.observe(e,{box:"content-box"}),()=>{var n,r;(n=this.resizeObserver)==null||n.callbacks.delete(e),(r=this.resizeObserver)==null||r.unobserve(e)}}static onResize(e,t){for(let n of e){let r=t.callbacks.get(n.target);if(!r)continue;let i=window.devicePixelRatio,a,s,o=i;n.devicePixelContentBoxSize?(a=n.devicePixelContentBoxSize[0].inlineSize,s=n.devicePixelContentBoxSize[0].blockSize,o=1):n.contentBoxSize?n.contentBoxSize[0]?(a=n.contentBoxSize[0].inlineSize,s=n.contentBoxSize[0].blockSize):(a=n.contentBoxSize.inlineSize,s=n.contentBoxSize.blockSize):(a=n.contentRect.width,s=n.contentRect.height);let d=Math.round(a*o),u=Math.round(s*o);r(d,u,i)}}};var y=class{constructor(e,t){this.canvas=e;this.renderTargetType=t}static setSize(e,t,n){e.canvas.width=t,e.canvas.height=n}};function _(){var t,n,r,i;let c=globalThis,e=(n=c.Module)!=null?n:(t=c.getDotnetRuntime(0))==null?void 0:t.Module;return(i=(r=e==null?void 0:e.GL)!=null?r:c.AvaloniaGL)!=null?i:c.SkiaSharpGL}var b=class extends y{constructor(t,n){var s,o;if(b._gl==null&&(b._gl=_()),!b._gl)throw new Error("Module.GL object wasn't initialized, WebGL can't be used.");let r={alpha:!0,depth:!0,stencil:!0,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,failIfMajorPerformanceCaveat:!0,majorVersion:n===2?1:2,minorVersion:0,enableExtensionsByDefault:1,explicitSwapControl:0},i=n===2?t.getContext("webgl",r):t.getContext("webgl2",r);if(!i)throw new Error("HTMLCanvasElement.getContext returned null.");let a=b._gl.registerContext(i,r);i.gl_handle=a;super(t,"webgl");this.canvas=t;this.contextHandle=a,this.fboId=(o=(s=i.getParameter(i.FRAMEBUFFER_BINDING))==null?void 0:s.id)!=null?o:0,this.stencil=i.getParameter(i.STENCIL_BITS),this.sample=i.getParameter(i.SAMPLES),this.depth=i.getParameter(i.DEPTH_BITS),this.attrs=r}static getCurrentContext(){var t,n,r;return(r=(n=(t=b._gl)==null?void 0:t.currentContext)==null?void 0:n.handle)!=null?r:0}static makeContextCurrent(t){if(b._gl==null)return!1;let n=b._gl.makeContextCurrent(t);return t===0||n}},E=b;E._gl=null;var w=class extends y{constructor(t){let n=t.getContext("2d",{alpha:!0});if(!n)throw new Error("HTMLCanvasElement.getContext(2d) returned null.");super(t,"software");this.context=n,this.runtime=globalThis.getDotnetRuntime(0)}putPixelData(t,n,r,i){var d;let a=(d=this.runtime)==null?void 0:d.localHeapViewU8(),s;if(a!=null&&a.buffer){if(s=new Uint8ClampedArray(a.buffer,t,n),this.canvas instanceof OffscreenCanvas){let u=new ArrayBuffer(s.byteLength),p=new Uint8ClampedArray(u);p.set(s),s=p}}else throw new Error("Unable to access .NET memory");let o=new ImageData(s,r,i);this.context.putImageData(o,0,0)}static staticPutPixelData(t,n,r,i,a){t.putPixelData(n,r,i,a)}};var m=class{static create(e,t,n){var i,a;let r=m.nextId++;if(e===0)m.registry[r]={canvas:t},m.targets[r]=m.createRenderTarget(t,n);else{let s=globalThis,o=(a=s.Module)!=null?a:(i=s.getDotnetRuntime(0))==null?void 0:i.Module,d=o==null?void 0:o.PThread;if(d==null)throw new Error("Unable to access emscripten PThread api");let u=d.pthreads[e];if(u==null)throw new Error(`Unable get pthread with id ${e}`);let p;if(u.postMessage!=null?p=u:p=u.worker,p==null)throw new Error(`Unable get Worker for pthread ${e}`);let x=t.transferControlToOffscreen();p.postMessage({avaloniaCmd:"registerCanvas",canvas:x,modes:n,id:r},[x]),m.registry[r]={canvas:t,worker:p}}return r}static initializeWorker(){let e=self.onmessage;self.onmessage=t=>{let n=t;n.data.avaloniaCmd==="registerCanvas"?m.targets[n.data.id]=m.createRenderTarget(n.data.canvas,n.data.modes):n.data.avaloniaCmd==="unregisterCanvas"?delete m.targets[n.data.id]:e!=null&&e.call(self,t)}}static getRenderTarget(e){return m.targets[e]}static createRenderTarget(e,t){for(let n of t)try{return n===1?new w(e):new E(e,n)}catch(r){let i="";r instanceof Error&&(i=": "+r.message),console.error(`Failed to create render target for mode ${n} ${i}`)}return new w(e)}},f=m;f.targets={},f.registry={},f.nextId=1;var C=class{constructor(e,t,n,r){this.canvas=e;this.targetId=f.create(r,e,t),T.observeSize(e,(i,a,s)=>{var o;this.sizeParams=[i,a,s],(o=l.CanvasHelper)==null||o.OnSizeChanged(n,i,a,s)})}get width(){return this.sizeParams?this.sizeParams[0]:1}get height(){return this.sizeParams?this.sizeParams[1]:1}get scaling(){return this.sizeParams?this.sizeParams[2]:1}destroy(){}static create(e,t,n,r){let i=h.createAvaloniaCanvas(e);h.attachCanvas(e,i);try{return new C(i,t,n,r)}catch(a){throw h.detachCanvas(e,i),a}}static destroy(e){e.destroy()}};async function De(c,e){"serviceWorker"in navigator&&await globalThis.navigator.serviceWorker.register(c,e?{scope:e}:void 0)}export{h as AvaloniaDOM,M as Caniuse,C as CanvasSurface,A as GeneralHelpers,L as InputHelper,z as NativeControlHost,B as NavigationHelper,w as SoftwareRenderTarget,k as StreamHelper,g as TimerHelper,E as WebGlRenderTarget,y as WebRenderTarget,f as WebRenderTargetRegistry,De as registerServiceWorker};
//# sourceMappingURL=avalonia.js.map
